<ion-header>
  <ion-toolbar style="--background:var(--blue-dark);">
    <ion-buttons slot="start" style="color:white;">
      <ion-back-button [routerLink]="['/client']" icon="chevron-back"></ion-back-button>
    </ion-buttons>
    <ion-title slot="end" style="color:white;">Cuenta</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-refresher slot="fixed" pullFactor="0.5" pullMin="100" pullMax="200" (ionRefresh)="refresh()">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <div class="main-content">

    <div class="header pb-8 pt-5 pt-lg-8 d-flex align-items-center" style="min-height: 600px;">
      <!-- Mask -->
      <span class="mask bg-gradient-default opacity-8"></span>
      <!-- Header container -->
      <div class="container-fluid">
        <img [src]='imageProfile' class='image-profile d-block m-auto boxShadow' width='120' />
        <div class='button-profile'>
          <h5 class="text-center name" style='color:#333 !important;'>{{ nombre }}</h5>
          <button class="d-block m-auto btn btn-success text-white">
            <ion-text (click)='edit()'>Editar</ion-text>
          </button>
        </div>
      </div>
    </div>
    <!-- Page content -->
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-12">
          <div class="card boxShadow">
            <div class="card-header border-0">
              <div class="row align-items-center">
                <div class="col-8">
                  <h3 class="mb-2 text-white">Datos</h3>
                </div>
              </div>
            </div>
            <div class="card-body">
              <ng-container *ngIf='!editing'>
                <form>
                  <h6 class="heading-small text-white mb-2">Información de usuario</h6>
                  <div class="pl-lg-4">
                    <div class="row">
                      <div class='col-12'>
                        <div class='form-group'>
                          <label class="form-control-label"><span class='icono_form'><i class="fa fa-user"></i></span>
                            Correo electrónico:
                            <b>{{ email }}</b></label>
                        </div>
                      </div>
                      <div class="col-lg-6">
                        <div class="form-group focused">
                          <label class="form-control-label"><span class='icono_form'><i class="fa fa-user"></i></span>
                            Nombres:
                            <b>{{ name }}</b></label>
                        </div>
                      </div>
                      <div class="col-lg-6">
                        <div class="form-group">
                          <label class="form-control-label"><span class='icono_form'><i class="fa fa-user"></i></span>
                            Apellidos:
                            <b>{{ lastname }}</b></label>
                        </div>
                      </div>
                      <div class="col-lg-6">
                        <div class="form-group">
                          <label class="form-control-label"><span class='icono_form'><i class="fas fa-phone"></i></span>
                            Teléfono:
                            <span *ngIf="phone !== ''"><b>{{ phone }}</b></span>
                            <span *ngIf="phone === ''"><b>Sin teléfono registrado</b></span>
                          </label>
                        </div>
                      </div>
                    </div>
                  </div>
                  <hr class="my-4">
                </form>
              </ng-container>
              <ng-container *ngIf='editing'>
                <form class='form-login'>
                  <h6 class="heading-small text-white mb-4">Información de usuario</h6>
                  <div class="pl-lg-4">
                    <div class='row'>
                      <div class='col-12'>
                        <div class='form-group row'>
                          <div class='col-12 text-center'>
                            <label class="form-control-label"><span class='icono_form'><i class="fas fa-envelope"></i></span>
                              Correo electrónico:</label>
                          </div>
                          <div class='col-12 text-center mt-3 mb-3'>
                            <input type='text' placeholder='Correo electrónico...' class='w-100' [value]="getEmail" #email>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-lg-6">
                        <div class="form-group focused row">
                          <div class='col-12 text-center'>
                            <label class="form-control-label"><span class='icono_form'><i class="fa fa-user"></i></span>
                              Nombre:</label>
                          </div>
                          <div class='col-12 text-center mt-3 mb-3'>
                            <input type='text' placeholder='Nombre...' [value]="getName" class='w-100' #name>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-6">
                        <div class="form-group row">
                          <div class='col-12 text-center'>
                            <label class="form-control-label"><span class='icono_form'><i class="fa fa-user"></i></span>
                              Apellido:</label>
                          </div>
                          <div class='col-12 text-center mt-3 mb-3'>
                            <input type='text' placeholder='Apellido...' [value]="getLastname" class='w-100' #lastname>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class='row'>
                      <div class='col-lg-6'>
                        <div class='form-group row'>
                          <div class='col-12 text-center'>
                            <label class="form-control-label"><span class='icono_form'><i class="fas fa-phone"></i></span>
                              Teléfono:</label>
                          </div>
                          <div class='col-12 text-center mt-3 mb-3'>
                            <input type='number' placeholder='Telefono...' [value]="getPhone" class='w-100' #phone>
                          </div>
                        </div>
                      </div>
                      <div class='col-lg-6'>
                        <div class='form-group row'>
                          <div class='col-12 text-center'>
                            <label class="form-control-label"><span class='icono_form'><i class="fas fa-phone"></i></span>
                              Código de area:</label>
                          </div>
                          <div class='col-12 text-center mt-3 mb-3'>
                            <select class='form-control' #areaCode (change)='selectAreaCode(areaCode)'>
                              <option value='+58'>+58</option>
                            </select>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <button type='button' class='btn btn-success btn-block w-75 d-block m-auto boxShadowItems' (click)='sendForm(email, name, lastname, phone)'>Enviar</button>
                </form>
              </ng-container>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</ion-content>